<div class="" style="min-height: 70vh;">
    <app-alert [error]="error" [success]="success" (errorClosed)="error=''" (successClosed)="success=''"></app-alert>
    <ul class="flex-column flex justify-between gap-5  text-sm font-medium text-gray-500 dark:text-gray-400 md:me-4 mb-4 md:mb-0" data-tabs-toggle="#default-styled-tab-settings" data-tabs-active-classes="bg-purple-700 hover:bg-purple-600 dark:text-purple-500 dark:hover:text-purple-500 border-purple-600 dark:border-purple-500" data-tabs-inactive-classes="dark:border-transparent bg-purple-400 hover:bg-purple-600 dark:text-gray-400 border-white hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300" role="tablist">
        <li class="flex-col">
            <h5 class="text-2xl font-bold tracking-tight text-gray-900 dark:text-white mb-4">Settings</h5>
        </li>
        <li class="flex-row flex justify-center gap-2">
            <button class="flex-col focus:outline-none text-white bg-purple-400 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900" data-tabs-target="#styled-edit" type="button" role="tab" aria-controls="profile" aria-selected="false">
                Edit 
            </button>
            <button class="flex-col  focus:outline-none text-white bg-purple-400 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900" data-tabs-target="#styled-domains" type="button" role="tab" aria-controls="profile" aria-selected="false">
                Domains
            </button>
            <button class="flex-col  focus:outline-none text-white bg-purple-400  hover:bg-red-800 focus:ring-4 focus:ring-red font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900" data-tabs-target="#styled-delete" type="button" role="tab" aria-controls="profile" aria-selected="false">
                Delete
            </button>
        </li>

    </ul>
    <div id="default-styled-tab-settings" >
        <div id="styled-edit" role="tabpanel" aria-labelledby="profile-tab" class="mt-5 bg-gray-50 text-medium text-gray-500 dark:text-gray-400 dark:bg-gray-800" >
            <form class="p-2 md:p-5">
                <div class="grid gap-4 mb-4 grid-cols-2">
                    <div class="col-span-2 sm:col-span-1">
                         <div class="flex justify-between">
                            <div class="flex-col-2">
                                <label  class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Name</label>
                                <input type="text" name="name"  class="mb-3 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-800 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="chat bot name" [(ngModel)]="chat_bot.name">
                                <p *ngIf="chat_bot_validation_errors['name']" class="mt-2 text-xs text-red-600 dark:text-red-400">{{ chat_bot_validation_errors['name'] }}</p>
                            </div>
                            <img class="flex-col" [src]="chat_bot.logoUrl" style="width: 80px;border-radius:50%">
                            
                         </div>
                        <label  class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Logo Url</label>
                        <input type="url" name="logoUrl"  class="mb-3 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-800 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="https://example.com/logo.png" [(ngModel)]="chat_bot.logoUrl" >
                        <p *ngIf="chat_bot_validation_errors['logoUrl']" class="mt-2 text-xs text-red-600 dark:text-red-400">{{ chat_bot_validation_errors['logoUrl'] }}</p>
                        <label  class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Initial Message</label>
                        <textarea name="initialMessage" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-purple-500 focus:border-purple-800 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Hi, I am a chatbot" [(ngModel)]="chat_bot.initialMessage" ></textarea>
                        <p *ngIf="chat_bot_validation_errors['initialMessage']" class="mt-2 text-xs text-red-600 dark:text-red-400">{{ chat_bot_validation_errors['initialMessage'] }}</p>
                        <div class="flex flex-wrap justify-center md:justify-start mb-3 space-y-3 md:space-y-0 md:space-x-3" style="text-align: center;">
                            <div class="flex-col">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Header</label>
                                <input type="color" name="headerColor" class="p-1 h-10 w-16 md:w-30 block bg-white border border-gray-200 cursor-pointer rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700" id="hs-color-input" [(ngModel)]="chat_bot.headerColor" title="Choose your color">
                              </div>
                            
                              <div class="flex-col">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Chat bg</label>
                                <input type="color" name="chatBackgroundColor" class="p-1 h-10 w-16 md:w-30 block bg-white border border-gray-200 cursor-pointer rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700" id="hs-color-input" [(ngModel)]="chat_bot.chatBackgroundColor" title="Choose your color">
                              </div>
                            
                              <div class="flex-col">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Message</label>
                                <input type="color" name="messageBackgroundColor" class="p-1 h-10 w-16 md:w-30 block bg-white border border-gray-200 cursor-pointer rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700" id="hs-color-input" [(ngModel)]="chat_bot.messageBackgroundColor" title="Choose your color">
                              </div>
                            
                              <div class="flex-col">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">User prompt</label>
                                <input type="color" name="userMessageColor" class="p-1 h-10 w-16 md:w-30 block bg-white border border-gray-200 cursor-pointer rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700" id="hs-color-input" [(ngModel)]="chat_bot.userMessageColor" title="Choose your color">
                              </div>
                            
                              <div class="flex-col">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Bot response</label>
                                <input type="color" name="botMessageColor" class="p-1 h-10 w-16 md:w-30 block bg-white border border-gray-200 cursor-pointer rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700" id="hs-color-input" [(ngModel)]="chat_bot.botMessageColor" title="Choose your color">
                              </div>
                            
                              <div class="flex-col">
                                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Button bg</label>
                                <input type="color" name="buttonBackgroundColor" class="p-1 h-10 w-16 md:w-30 block bg-white border border-gray-200 cursor-pointer rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700" id="hs-color-input" [(ngModel)]="chat_bot.buttonBackgroundColor" title="Choose your color">
                              </div>
                            
                              <div class="flex-col">
                                <label class="ps-1 block mb-2 text-sm font-medium text-gray-900 dark:text-white">Text</label>
                                <input type="color" name="textColor" class="p-1 h-10 w-16 md:w-30 block bg-white border border-gray-200 cursor-pointer rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700" id="hs-color-input" [(ngModel)]="chat_bot.textColor" title="Choose your color">
                              </div>

                        </div>
                        <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Chat Bot Instructions</label>
                        <textarea name="instructions" rows="6" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-purple-500 focus:border-purple-800 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="You are a ai assistant that help users by giving answers of questions " [(ngModel)]="chat_bot.instructions"></textarea>
                        <p *ngIf="chat_bot_validation_errors['instructions']" class="mt-2 text-xs text-red-600 dark:text-red-400">{{ chat_bot_validation_errors['instructions'] }}</p>
                        <button type="submit" (click)="updateChatBot()" class="mt-2 text-white inline-flex items-center bg-purple-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-1.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                            <svg xmlns="http://www.w3.org/2000/svg" class="me-3" width="2em" height="2em" viewBox="0 0 24 24"><path fill="currentColor" d="M10.35 17L16 11.35L14.55 9.9l-4.225 4.225l-2.1-2.1L6.8 13.45zM6.5 20q-2.275 0-3.887-1.575T1 14.575q0-1.95 1.175-3.475T5.25 9.15q.625-2.3 2.5-3.725T12 4q2.925 0 4.963 2.038T19 11q1.725.2 2.863 1.488T23 15.5q0 1.875-1.312 3.188T18.5 20z"/></svg>
                            Update 
                        </button> 
                        <button type="submit" (click)="refreshBotUi()" class=" ms-3 mt-2 text-white inline-flex items-center bg-purple-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-1.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                            <svg xmlns="http://www.w3.org/2000/svg" class="me-2" width="2rem" height="1.7rem" viewBox="0 0 24 24"><path fill="currentColor" d="M18 14.5c1.1 0 2.1.4 2.8 1.2l1.2-1.2v4h-4l1.8-1.8c-.5-.4-1.1-.7-1.8-.7c-1.4 0-2.5 1.1-2.5 2.5S16.6 21 18 21c.8 0 1.5-.4 2-1h1.7c-.6 1.5-2 2.5-3.7 2.5c-2.2 0-4-1.8-4-4s1.8-4 4-4m-6.5 4c0-1.1.3-2.1.7-3H12c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5s3.5 1.6 3.5 3.5c0 .2 0 .4-.1.5c.8-.3 1.6-.5 2.6-.5c.5 0 1 .1 1.5.2V12c0-.3 0-.7-.1-1l2.1-1.6c.2-.2.2-.4.1-.6l-2-3.5c-.1-.3-.3-.3-.6-.3l-2.5 1c-.5-.4-1.1-.7-1.7-1l-.4-2.7c.1-.1-.2-.3-.4-.3h-4c-.2 0-.5.2-.5.4l-.4 2.7c-.6.2-1.1.6-1.7.9L5 5c-.3 0-.5 0-.7.3l-2 3.5c-.1.2 0 .4.2.6L4.6 11c0 .3-.1.7-.1 1s0 .7.1 1l-2.1 1.7c-.2.2-.2.4-.1.6l2 3.5c.1.2.3.2.6.2l2.5-1c.5.4 1.1.7 1.7 1l.4 2.7c0 .2.2.4.5.4h2.5c-.7-1.1-1.1-2.3-1.1-3.6"/></svg>
                            Refresh 
                        </button>                      
                    </div>
                    <div class="col-span-2 sm:col-span-1 " align="center"> 
                        <div id="myIframe"  scrolling="no" style="border-radius: 10px; padding: 0px;" class="sm:w-90 sm:mx-8">
                          <app-chat-static-template [chatbot]="chat_bot"></app-chat-static-template>
                        </div>
                    </div>
                   
                </div>
            </form>
        </div>
        <div id="styled-domains" class="mt-5 lg:px-20  bg-gray-50 text-medium text-gray-500 dark:text-gray-400 dark:bg-gray-800 rounded-lg w-full "  >
            <h5 class="text-1xl font-bold tracking-tight text-gray-900 dark:text-white mb-4">Allowed Domains</h5>
            <ul  class=" w-auto text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                <li *ngFor="let or of chat_bot.allowedOrigins" class="w-full flex justify-between space-x-4 px-4 py-2 border-b border-gray-200 rounded-t-lg dark:border-gray-600">
                    <div class="text-sm font-semibold text-zinc-700">{{or.origin}}</div>
                    <button   (click)="deleteOrigin(or)"  class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-80 h-9 p-0">
                        <svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 24 24"><path fill="currentColor" d="M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8s8-3.582 8-8s-3.581-8-8-8m3.707 10.293a.999.999 0 1 1-1.414 1.414L12 13.414l-2.293 2.293a.997.997 0 0 1-1.414 0a.999.999 0 0 1 0-1.414L10.586 12L8.293 9.707a.999.999 0 1 1 1.414-1.414L12 10.586l2.293-2.293a.999.999 0 1 1 1.414 1.414L13.414 12z"/></svg>
                    </button>
                </li>
            </ul>
            
                <input type="url" name="origin" class="mt-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-800 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="example.com" [(ngModel)]="new_origin">
                <button type="button" (click)="createOrigin()"  class="mt-4 text-white inline-flex items-center bg-purple-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-1.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 24 24"><path fill="currentColor" d="M17 20v-3h-3v-2h3v-3h2v3h3v2h-3v3zm-6-3H7q-2.075 0-3.537-1.463T2 12q0-2.075 1.463-3.537T7 7h4v2H7q-1.25 0-2.125.875T4 12q0 1.25.875 2.125T7 15h4zm-3-4v-2h8v2zm14-1h-2q0-1.25-.875-2.125T17 9h-4V7h4q2.075 0 3.538 1.463T22 12"/></svg>
                </button>

            
            
            
        </div>
        <div id="styled-delete" align="center" class="mt-5 lg:px-20  bg-gray-50 text-medium text-gray-500 dark:text-gray-400 dark:bg-gray-800 rounded-lg w-full ">
            <svg class="mb-3" xmlns="http://www.w3.org/2000/svg" width="4rem" height="4rem" viewBox="0 0 20 20"><path fill="#f40b0b" d="M19.59 15.86L12.007 1.924C11.515 1.011 10.779.5 9.989.5c-.79 0-1.515.521-2.016 1.434L.409 15.861c-.49.901-.544 1.825-.138 2.53c.405.707 1.216 1.109 2.219 1.109h15.02c1.003 0 1.814-.402 2.22-1.108c.405-.706.351-1.619-.14-2.531M10 4.857c.395 0 .715.326.715.728v6.583c0 .402-.32.728-.715.728a.721.721 0 0 1-.715-.728V5.584c0-.391.32-.728.715-.728m0 11.624c-.619 0-1.11-.51-1.11-1.14c0-.63.502-1.141 1.11-1.141c.619 0 1.11.51 1.11 1.14c0 .63-.502 1.141-1.11 1.141"/></svg>
            <h2 id="radix-:R26uujfaudaH1:" class="tracking-tight flex w-full justify-evenly text-lg font-medium leading-6 text-red-600"><span class="w-full text-center">Are you sure you want to delete your chatbot? This action cannot be undone.</span></h2>
            <div class="mt-2"><p class="text-lx text-gray-900">To delete this chat bot you have to type the chatbot Name : <span style="font-weight: bold;">{{chat_bot.name}}</span></p></div>
                        <input type="text" (copy)="false" (paste)="false" class="mt-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-600 focus:border-red-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-red-500 dark:focus:border-red-500" placeholder="chat bot name" [(ngModel)]="delete_chat_bot_name" >
                       

                            <div class="mt-3 flex justify-center">
                               
                                <button (click)="deleteChatBot()" [disabled]="delete_chat_bot_name!=chat_bot.name" class="flex-col  flex focus:outline-none text-white bg-red-600 hover:bg-red-800   font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900 disabled:opacity-75" data-tabs-target="#styled-delete" type="button" role="tab" aria-controls="profile" aria-selected="false">
                                    Delete For Ever
                                </button>
                               
                            </div>
        </div>
    </div>
</div>
